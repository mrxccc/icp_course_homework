<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>helloword</title>
    <base href="/" />
    <link rel="icon" href="favicon.ico" />
    <link type="text/css" rel="stylesheet" href="main.css" />
    <style>
        table{
            border-collapse: collapse;
            width: 400px;
            margin: 0 auto;
            border: 1px solid silver;
        }
        table td{
            border: 1px solid silver;
        }
        button[name="btnclick"]{
            width: 100px;
            height: 60px;
            font-size: 25px;
        }
        button[name="btnall"]{
            width: 100%;
            height: 60px;
            font-size: 25px;
        }
        .txt{
            width: 99%;
            height: 75px;
            font-size: 25px;
            outline: none;
            text-align: right;
            background-color: white;
            border-style: none;
        }
    </style>
</head>
<body>
<table>
    <main>
        <img src="logo.png" alt="DFINITY logo" />
        <div style="text-align: center">计算器</div>
      </main>
    <tr>
        <td colspan="4"><input type="text" class="txt" value="0" disabled></td>
    </tr>
    <tr>
        <td colspan="2"><button class="btn" name="btnall">ac</button></td>
        <td colspan="2"><button class="btn" name="btnall">del</button></td>
    </tr>
    <tr>
        <td><button class="btn" name="btnclick">7</button></td>
        <td><button class="btn" name="btnclick">8</button></td>
        <td><button class="btn" name="btnclick">9</button></td>
        <td><button class="btn" name="btnclick">*</button></td>
    </tr>
    <tr>
        <td><button class="btn" name="btnclick">4</button></td>
        <td><button class="btn" name="btnclick">5</button></td>
        <td><button class="btn" name="btnclick">6</button></td>
        <td><button class="btn" name="btnclick">/</button></td>
    </tr>
    <tr>
        <td><button class="btn" name="btnclick">1</button></td>
        <td><button class="btn" name="btnclick">2</button></td>
        <td><button class="btn" name="btnclick">3</button></td>
        <td><button class="btn" name="btnclick">-</button></td>
    </tr>
    <tr>
        <td><button class="btn" name="btnclick">0</button></td>
        <td><button class="btn" name="btnclick">.</button></td>
        <td><button class="btn" name="btnclick">+</button></td>
        <td><button class="btn" name="btnclick">=</button></td>
    </tr>
</table>
<script>
    var btn=document.getElementsByClassName("btn");
    var txt=document.getElementsByClassName("txt")[0];
    var res=[];
    for(var i=0;i<btn.length;i++){
        btn[i].onclick=function(){
            if(!isNaN(this.innerHTML)||this.innerHTML=="."){
                if(txt.value=="0"){
                    if(this.innerHTML=="."){
                        txt.value="0"+this.innerHTML;
                    }
                    else{
                        txt.value=this.innerHTML;
                    }
                }
                else{
                    if(this.innerHTML=="."){
                        if(txt.value.indexOf(".")==-1){
                            txt.value+=this.innerHTML;
                        }
                    }
                    else{
                        txt.value+=this.innerHTML;
                    }
                }
            }
            else{
                if(this.innerHTML=="+"||this.innerHTML=="-"||this.innerHTML=="*"||this.innerHTML=="/"){
                    if(res.length!=0){
                        if(txt.value=="0"&&isNaN(res[res.length-1])){
                            res[res.length-1]=this.innerHTML;
                        }
                        else{
                            res[res.length]=txt.value;
                            res[res.length]=this.innerHTML;
                        }
                    }
                    else{
                        res[res.length]=txt.value;
                        res[res.length]=this.innerHTML;
                    }
                    txt.value="0";
                }
                else if(this.innerHTML=="="){
                    res[res.length]=txt.value;
                    txt.value=eval(res.join(""));
                    res=[];
                }
                else if(this.innerHTML=="ac"){

                }
                else if(this.innerHTML=="del"){
                    var arr=txt.value.split("");
                    arr.pop();
                    if(arr.length==0){
                        txt.value="0";
                        return;
                    }
                    txt.value=arr.join("");
                }
            }
        }
    }
</script>
</body>
</html>
